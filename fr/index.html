<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Narra — automatisation de contenu par IA pour l’e-commerce | getnarra.app</title>
    <meta name="description" content="Narra automatise la création de contenu avec un pipeline multi-agent : du plan au SEO prêt à publier. Gardez la voix de votre marque. Essayez l’essai de 7 jours." />
    <meta name="robots" content="index, follow" />
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Narra — automatisation de contenu par IA pour l’e-commerce" />
    <meta property="og:description" content="Narra automatise la création de contenu avec un pipeline multi-agent : du plan au SEO prêt à publier. Gardez la voix de votre marque." />
    <meta property="og:image" content="https://getnarra.app/assets/og-image.svg" />
    <meta property="og:url" content="https://getnarra.app/fr/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Narra — automatisation de contenu par IA pour l’e-commerce" />
    <meta name="twitter:description" content="Narra automatise la création de contenu avec un pipeline multi-agent : du plan au SEO prêt à publier. Gardez la voix de votre marque." />
    <meta name="twitter:image" content="https://getnarra.app/assets/og-image.svg" />
    <link rel="alternate" hreflang="pl" href="/pl/" />
    <link rel="alternate" hreflang="en" href="/" />
    <link rel="alternate" hreflang="es" href="/es/" />
    <link rel="alternate" hreflang="fr" href="/fr/" />
    <link rel="alternate" hreflang="de" href="/de/" />
    <link rel="alternate" hreflang="x-default" href="/" />
    <link rel="stylesheet" href="../styles.css" />
    <style>
        :root {
            color-scheme: light;
            --navy: #0a2540;
            --purple: #6c5ce7;
            --offwhite: #f7f7fb;
            --ink: #1a2a3a;
            --muted: #6b7280;
            --radius-lg: 1rem;
            --shadow-md: 0 20px 45px rgba(10, 37, 64, 0.12);
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: var(--offwhite);
            color: var(--ink);
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        .shell {
            max-width: min(1120px, 92vw);
            margin: 0 auto;
        }
        header.site-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(247, 247, 251, 0.94);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(26, 42, 58, 0.08);
        }
        .hero {
            position: relative;
            padding: clamp(4rem, 10vw, 6.5rem) 0 clamp(3rem, 8vw, 5rem);
            overflow: hidden;
        }
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top left, rgba(108, 92, 231, 0.18), transparent 55%),
                radial-gradient(circle at bottom right, rgba(10, 37, 64, 0.12), transparent 60%);
            z-index: -2;
        }
        .hero::after {
            content: "\201C Là où les idées deviennent des histoires. \201D";
            position: absolute;
            font-size: clamp(2.75rem, 8vw, 5.5rem);
            font-weight: 700;
            color: rgba(108, 92, 231, 0.08);
            right: clamp(-6rem, -10vw, -2rem);
            bottom: clamp(-2rem, -6vw, 0rem);
            white-space: nowrap;
            pointer-events: none;
        }
        .hero h1 {
            font-size: clamp(2.75rem, 4vw, 4rem);
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            color: var(--navy);
        }
        .hero p.hero-tagline {
            font-weight: 600;
            color: var(--purple);
            margin-bottom: 1.5rem;
        }
        .hero p.hero-description {
            max-width: 52ch;
            line-height: 1.6;
            color: var(--muted);
            font-size: 1.05rem;
        }
        .primary-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.85rem 1.65rem;
            border-radius: 999px;
            background: var(--purple);
            color: #fff;
            font-weight: 600;
            border: none;
        }
        .primary-cta:hover {
            background: #5844d6;
        }
        .primary-cta:focus-visible,
        .secondary-cta:focus-visible,
        .ghost-link:focus-visible,
        .menu-toggle:focus-visible,
        .nav-link:focus-visible {
            outline: 3px solid rgba(108, 92, 231, 0.45);
            outline-offset: 3px;
            border-radius: 999px;
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Narra",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
      "url": "https://getnarra.app/fr/",
      "description": "Narra automatise la création de contenu avec un pipeline multi-agent : du plan au SEO prêt à publier.",
      "offers": [
        {
          "@type": "Offer",
          "name": "Starter",
          "price": "15",
          "priceCurrency": "EUR",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Pro",
          "price": "45",
          "priceCurrency": "EUR",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Enterprise",
          "price": "0",
          "priceCurrency": "EUR",
          "availability": "https://schema.org/PreOrder",
          "description": "Offres Enterprise personnalisées sur demande."
        }
      ]
    }
    </script>
</head>
<body>
    <a class="skip-link" href="#main">Aller au contenu principal</a>
    <header class="site-header" aria-label="Navigation principale">
        <div class="shell nav-shell">
            <a class="brand" href="#hero" aria-label="Narra – accueil">
                <img src="../assets/logo.svg" alt="Narra" width="120" height="32" decoding="async" />
            </a>
            <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="primary-navigation">
                <span class="menu-label">Menu</span>
                <span class="menu-icon" aria-hidden="true"></span>
            </button>
            <nav id="primary-navigation" class="site-nav" aria-label="Sections de la page">
                <a class="nav-link" href="#features">Fonctionnalités</a>
                <a class="nav-link" href="#workflow">Fonctionnement</a>
                <a class="nav-link" href="#pricing">Tarifs</a>
                <a class="nav-link" href="#faq">FAQ</a>
                <a class="nav-link nav-cta" href="#beta">Rejoindre la bêta</a>
                <div class="language-switch">
                    <div class="language-select" data-language-switch>
                        <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Choisir la langue">
                            <span class="language-trigger-text" data-language-label>English (EN)</span>
                        </button>
                        <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main id="main">
        <section id="hero" class="hero">
            <div class="shell hero-grid">
                <div class="hero-copy">
                    <h1>Automatisez la production de contenu. Préservez la voix de votre marque.</h1>
                    <p class="hero-tagline">Là où les idées deviennent des histoires.</p>
                    <p class="hero-description">Narra est une plateforme d’IA qui transforme les idées en textes SEO prêts à publier. Pipeline multi-agent : plan → vérification → réécriture → SEO → publication.</p>
                    <div class="hero-actions">
                        <a class="primary-cta" href="#beta">Rejoindre la bêta</a>
                        <a class="ghost-link" href="#workflow">Voir comment ça marche</a>
                    </div>
                </div>
                <div class="hero-panel" aria-hidden="true">
                    <div class="hero-card">
                        <div class="hero-card-header">
                            <span class="chip">Humain + IA</span>
                            <span class="chip chip-outline">QA en temps réel</span>
                        </div>
                        <div class="hero-card-body">
                            <p>« Narra conserve le ton de la marque même lors de publications automatiques. Chaque article passe par une vérification des faits et un audit SEO avant sa mise en ligne. »</p>
                            <ul>
                                <li>Du brief au plan en 2 minutes</li>
                                <li>Corrections automatiques avec sources citées</li>
                                <li>Métadonnées et liens internes sans travail manuel</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="problem" class="section problem">
            <div class="shell problem-inner">
                <div class="problem-copy">
                    <h2>La rédaction manuelle vous ralentit.</h2>
                    <p>La plupart des équipes passent plus de 6 heures par semaine à écrire et corriger des articles. L’IA multi-agent de Narra ramène ce travail à quelques minutes tout en préservant le ton de marque et la qualité SEO.</p>
                    <div class="problem-actions">
                        <a class="primary-cta" href="#beta">Voir comment ça marche</a>
                    </div>
                </div>
                <div class="problem-flows" data-flow-switch>
                    <div class="flow-switch" role="tablist" aria-label="Comparaison de workflows" data-active="manual">
                        <button
                            type="button"
                            class="flow-switch-button is-active"
                            role="tab"
                            id="problem-tab-manual"
                            aria-controls="problem-panel-manual"
                            aria-selected="true"
                            data-flow-tab="manual"
                        >
                            Manuel
                        </button>
                        <button
                            type="button"
                            class="flow-switch-button"
                            role="tab"
                            id="problem-tab-narra"
                            aria-controls="problem-panel-narra"
                            aria-selected="false"
                            data-flow-tab="narra"
                        >
                            Narra
                        </button>
                        <span class="flow-switch-indicator" aria-hidden="true"></span>
                    </div>
                    <div class="flow-panels">
                        <article
                            id="problem-panel-manual"
                            class="problem-flow manual is-active"
                            role="tabpanel"
                            aria-labelledby="problem-tab-manual"
                            data-flow-panel="manual"
                        >
                            <h3>Rédaction manuelle</h3>
                            <p>Rédaction manuelle → Brouillon → Relecture → Vérification → SEO → Publication</p>
                            <span class="flow-duration">(jours)</span>
                        </article>
                        <article
                            id="problem-panel-narra"
                            class="problem-flow narra"
                            role="tabpanel"
                            aria-labelledby="problem-tab-narra"
                            data-flow-panel="narra"
                            hidden
                        >
                            <h3>Narra</h3>
                            <p>Narra → Plan → Relecture → Publication</p>
                            <span class="flow-duration">(minutes)</span>
                        </article>
                    </div>
                </div>
            </div>
        </section>
        <section id="features" class="section features">
            <div class="shell section-header">
                <h2>Ce que Narra sait faire</h2>
                <p>Une équipe d’IA multi-agent collabore avec votre équipe contenu pour réduire le délai entre l’idée et la publication.</p>
            </div>
            <div class="shell feature-grid">
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="share-2"></span>
                    </div>
                    <h3>Pipeline multi-agent</h3>
                    <p>Séquence automatisée du brief à la publication avec des contrôles qualité à chaque étape.</p>
                    <ul>
                        <li>Plan → vérification → réécriture</li>
                        <li>Score SEO en temps réel</li>
                        <li>Export en un clic vers votre CMS</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="check-circle"></span>
                    </div>
                    <h3>Qualité et contrôle</h3>
                    <p>Gestion du ton « Humain + IA » avec aperçus et suggestions pour les éditeurs.</p>
                    <ul>
                        <li>Mode co-création avec commentaires</li>
                        <li>Suivi des révisions et des sources</li>
                        <li>Ton de marque cohérent à chaque paragraphe</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="trending-up"></span>
                    </div>
                    <h3>Enrichissement SEO</h3>
                    <p>Génération automatique des titres, métadonnées et recommandations de liens internes.</p>
                    <ul>
                        <li>Brief SEO → structure H1–H3</li>
                        <li>Titre et description méta dans votre ton de marque</li>
                        <li>Carte des liens internes</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="link"></span>
                    </div>
                    <h3>Intégrations (bientôt)</h3>
                    <p>Connexions prévues avec les principales plateformes e-commerce.</p>
                    <ul>
                        <li>Shoper, WooCommerce, Shopify</li>
                        <li>WordPress et API personnalisée</li>
                        <li>Publication automatisée et webhooks</li>
                    </ul>
                </article>
            </div>
        </section>
        <section id="comparison" class="section comparison">
            <div class="shell section-header">
                <h2>Gagnez des heures chaque semaine avec Narra</h2>
                <p>Comparez le processus manuel avec le pipeline automatisé de Narra.</p>
            </div>
            <div class="shell comparison-card">
                <div class="comparison-table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th scope="col">Critère</th>
                                <th scope="col">Flux manuel</th>
                                <th scope="col">Pipeline IA Narra</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Temps par article</th>
                                <td>~6 heures</td>
                                <td>10–15 minutes</td>
                            </tr>
                            <tr>
                                <th scope="row">Vérification des faits</th>
                                <td>Manuelle</td>
                                <td>Automatique avec sources</td>
                            </tr>
                            <tr>
                                <th scope="row">Optimisation SEO</th>
                                <td>Optionnelle</td>
                                <td>Intégrée</td>
                            </tr>
                            <tr>
                                <th scope="row">Cohérence</th>
                                <td>Dépend du rédacteur</td>
                                <td>Toujours dans le ton de marque</td>
                            </tr>
                            <tr>
                                <th scope="row">Publication</th>
                                <td>Mise en ligne manuelle</td>
                                <td>Export CMS en un clic</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="comparison-note">Les équipes qui utilisent Narra publient 5× plus d’articles par mois sans recruter d’auteurs supplémentaires.</p>
                <a class="primary-cta" href="#beta">Rejoindre la bêta</a>
            </div>
        </section>
        <section id="workflow" class="section workflow">
            <div class="shell section-header">
                <h2>Comment fonctionne Narra</h2>
                <p>Un pipeline transparent vous permet de suivre chaque étape, du brief à l’article prêt à publier.</p>
            </div>
            <div class="shell workflow-grid" role="list">
                <article class="workflow-step" role="listitem">
                    <div class="step-number">1</div>
                    <h3>Brief → plan</h3>
                    <p>Indiquez sujet, mots-clés et ton. L’agent « Compositeur » bâtit un plan en quelques minutes.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">2</div>
                    <h3>Vérification → édition</h3>
                    <p>L’agent « Chercheur » vérifie les faits, joint les sources et signale ce qui nécessite une validation.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">3</div>
                    <h3>SEO → structure</h3>
                    <p>« Optimiseur » génère les titres H1–H3, les métadonnées et les suggestions de liens internes.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">4</div>
                    <h3>Publication / export</h3>
                    <p>« Éditeur » envoie le contenu vers votre CMS ou exporte Markdown/HTML avec les métadonnées.</p>
                </article>
            </div>
        </section>
        <section id="pricing" class="section pricing">
            <div class="shell section-header">
                <h2>Des offres flexibles pour les équipes contenu</h2>
                <p>Commencez par un essai et développez la collaboration à mesure que votre contenu génère du revenu.</p>
            </div>
            <div class="shell pricing-grid">
                <article class="pricing-card" aria-labelledby="plan-starter">
                    <h3 id="plan-starter">Starter</h3>
                    <p class="price"><span>15</span> EUR / mois</p>
                    <p>Configurez une marque et générez jusqu’à quatre articles par mois.</p>
                    <ul>
                        <li>Un espace de travail pour une seule marque</li>
                        <li>4 articles par mois</li>
                        <li>Flux multi-agent du brief au SEO</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Demander l’accès</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-pro">
                    <h3 id="plan-pro">Pro</h3>
                    <p class="price"><span>45</span> EUR / mois</p>
                    <p>Déployez vos contenus pour jusqu’à cinq marques avec un rythme de publication régulier.</p>
                    <ul>
                        <li>Jusqu’à 5 marques dans l’espace de travail</li>
                        <li>10 articles par marque et par mois</li>
                        <li>Collaboration et intégrations CMS</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Rejoindre la bêta</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-enterprise">
                    <h3 id="plan-enterprise">Enterprise</h3>
                    <p class="price price-custom">Tarification sur mesure</p>
                    <p>Pour les équipes pour lesquelles Pro ne suffit plus. Une offre dédiée taillée selon vos besoins.</p>
                    <ul>
                        <li>Gestionnaire de réussite dédié</li>
                        <li>Workflows, automatisations et intégrations sur mesure</li>
                        <li>Volumes de contenu et SLA personnalisés</li>
                    </ul>
                    <a class="secondary-cta" href="mailto:hello@getnarra.app">Contactez-nous</a>
                </article>
            </div>
        </section>
        <section id="faq" class="section faq">
            <div class="shell section-header">
                <h2>Foire aux questions</h2>
                <p>Encore des questions ? Écrivez à <a href="mailto:hello@getnarra.app">hello@getnarra.app</a>.</p>
            </div>
            <div class="shell faq-grid">
                <details>
                    <summary>Combien de temps faut-il pour lancer Narra ?</summary>
                    <p>Vous pouvez générer votre premier plan le jour même. L’onboarding inclut un atelier de ton de marque et la configuration du glossaire.</p>
                </details>
                <details>
                    <summary>Puis-je modifier le contenu avant publication ?</summary>
                    <p>Oui, chaque étape permet l’édition collaborative avec commentaires. Vous gardez toujours le dernier mot.</p>
                </details>
                <details>
                    <summary>Comment fonctionne la vérification des faits ?</summary>
                    <p>L’agent Chercheur signale les paragraphes nécessitant confirmation et ajoute les sources pour un examen rapide.</p>
                </details>
                <details>
                    <summary>Narra gère-t-il plusieurs langues ?</summary>
                    <p>Oui, la plateforme prend en charge le polonais, l’anglais, l’espagnol, le français et l’allemand tout en conservant votre ton de marque.</p>
                </details>
            </div>
        </section>
        <section class="section final-cta">
            <div class="shell final-cta-card">
                <h2>Prêt à publier plus vite ?</h2>
                <p>Rejoignez la bêta privée et profitez d’un essai de 7 jours pour voir comment Narra transforme votre workflow.</p>
                <p>Aucune carte bancaire requise. Mise en place en moins de 5 minutes.</p>
                <a class="primary-cta" href="#beta">Rejoindre la bêta</a>
            </div>
        </section>
        <section id="beta" class="section beta-form">
            <div class="shell form-wrapper">
                <div class="form-copy">
                    <h2>Rejoignez la bêta privée</h2>
                    <p>Laissez votre e-mail et nous vous inviterons avec un essai de 7 jours après vérification de votre marque.</p>
                </div>
                <form class="beta" name="beta-fr" method="post" data-netlify="true" data-netlify-honeypot="bot-field">
                    <input type="hidden" name="form-name" value="beta-fr" />
                    <p class="hidden">
                        <label>Ne remplissez pas ceci : <input name="bot-field" /></label>
                    </p>
                    <div class="form-row">
                        <label for="email">E-mail professionnel</label>
                        <input id="email" name="email" type="email" placeholder="lea@votreboutique.fr" required autocomplete="email" />
                    </div>
                    <div class="form-row form-row-inline">
                        <input id="consent" name="consent" type="checkbox" required />
                        <label for="consent">J’accepte d’être contacté(e) au sujet du programme bêta de Narra.</label>
                    </div>
                    <button class="primary-cta" type="submit">Rejoindre la bêta</button>
                    <p class="form-message" role="status" aria-live="polite"></p>
                </form>
            </div>
        </section>
    </main>
    <footer class="site-footer" aria-label="Pied de page">
        <div class="shell footer-grid">
            <div>
                <a class="brand" href="#hero" aria-label="Narra – accueil">
                    <img src="../assets/logo.svg" alt="Narra" width="120" height="32" decoding="async" />
                </a>
                <p class="footer-tagline">IA multi-agent pour créer des contenus prêts à publier.</p>
            </div>
            <nav class="footer-nav" aria-label="Navigation secondaire">
                <h3>Plan du site</h3>
                <a class="footer-link" href="#features">Fonctionnalités</a>
                <a class="footer-link" href="#workflow">Fonctionnement</a>
                <a class="footer-link" href="#pricing">Tarifs</a>
                <a class="footer-link" href="#faq">FAQ</a>
                <a class="footer-link" href="#beta">Rejoindre la bêta</a>
            </nav>
            <div class="language-switch footer-languages">
                <div class="language-select" data-language-switch>
                    <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Choisir la langue">
                        <span class="language-trigger-text" data-language-label>English (EN)</span>
                    </button>
                    <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                        <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                        <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                        <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                    </ul>
                </div>
            </div>
        </div>
        <p class="footer-note">© <span data-year></span> Narra. Tous droits réservés.</p>
    </footer>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        const menuToggle = document.querySelector('.menu-toggle');
        const siteNav = document.querySelector('.site-nav');
        const form = document.querySelector('form.beta');
        const message = document.querySelector('.form-message');
        menuToggle?.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', String(!expanded));
            siteNav?.classList.toggle('is-open');
        });
        const normalizeLang = (lang) => (lang || '').toLowerCase().split('-')[0];
        const preferredLang = normalizeLang(document.documentElement.lang) || 'en';
        const languageSwitchers = Array.from(document.querySelectorAll('[data-language-switch]'));
        const closeSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.remove('is-open');
            trigger.setAttribute('aria-expanded', 'false');
            menu.hidden = true;
            menu.querySelectorAll('[data-language-option]').forEach((option) => {
                option.tabIndex = -1;
            });
        };
        const openSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.add('is-open');
            trigger.setAttribute('aria-expanded', 'true');
            menu.hidden = false;
        };
        const focusOption = (option) => {
            option.tabIndex = 0;
            option.focus();
        };
        languageSwitchers.forEach((switcher, index) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const label = switcher.querySelector('[data-language-label]');
            const menu = switcher.querySelector('[data-language-menu]');
            const options = menu ? Array.from(menu.querySelectorAll('[data-language-option]')) : [];
            if (!trigger || !menu || !options.length) {
                return;
            }
            const fallbackLang = 'en';
            const triggerId = trigger.id || `language-trigger-${index}`;
            trigger.id = triggerId;
            menu.setAttribute('aria-labelledby', triggerId);
            const setActiveOption = (option) => {
                options.forEach((item) => {
                    const isActive = item === option;
                    item.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    item.tabIndex = isActive ? 0 : -1;
                });
                const optionLabel = option.textContent.trim();
                if (label) {
                    label.textContent = optionLabel;
                } else {
                    trigger.textContent = optionLabel;
                }
                trigger.setAttribute('data-selected-lang', option.dataset.lang || '');
            };
            const findOptionFor = (langCode) => options.find((option) => normalizeLang(option.dataset.lang) === langCode);
            const initialOption = findOptionFor(preferredLang) || findOptionFor(fallbackLang) || options[0];
            if (initialOption) {
                setActiveOption(initialOption);
            }
            trigger.addEventListener('click', (event) => {
                event.preventDefault();
                const expanded = trigger.getAttribute('aria-expanded') === 'true';
                if (expanded) {
                    closeSwitcher(switcher);
                } else {
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    if (activeOption) {
                        focusOption(activeOption);
                    }
                }
            });
            trigger.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                    event.preventDefault();
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    const focusTarget = event.key === 'ArrowUp' ? (activeOption || options[options.length - 1]) : (activeOption || options[0]);
                    if (focusTarget) {
                        focusOption(focusTarget);
                    }
                } else if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    trigger.click();
                } else if (event.key === 'Escape') {
                    closeSwitcher(switcher);
                }
            });
            options.forEach((option, optionIndex) => {
                option.tabIndex = option.getAttribute('aria-selected') === 'true' ? 0 : -1;
                option.addEventListener('click', () => {
                    setActiveOption(option);
                    closeSwitcher(switcher);
                    const destination = option.dataset.href;
                    if (destination) {
                        window.location.href = destination;
                    }
                });
                option.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        option.click();
                    } else if (event.key === 'Escape') {
                        event.preventDefault();
                        closeSwitcher(switcher);
                        trigger.focus();
                    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                        event.preventDefault();
                        const offset = event.key === 'ArrowDown' ? 1 : -1;
                        let nextIndex = optionIndex + offset;
                        if (nextIndex < 0) {
                            nextIndex = options.length - 1;
                        } else if (nextIndex >= options.length) {
                            nextIndex = 0;
                        }
                        const nextOption = options[nextIndex];
                        if (nextOption) {
                            setActiveOption(nextOption);
                            focusOption(nextOption);
                        }
                    } else if (event.key === 'Tab') {
                        closeSwitcher(switcher);
                    }
                });
            });
        });
        document.addEventListener('click', (event) => {
            if (!event.target.closest('[data-language-switch]')) {
                languageSwitchers.forEach((switcher) => closeSwitcher(switcher));
            }
        });
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                const activeSwitcher = languageSwitchers.find((switcher) => switcher.classList.contains('is-open'));
                if (activeSwitcher) {
                    const trigger = activeSwitcher.querySelector('[data-language-trigger]');
                    closeSwitcher(activeSwitcher);
                    trigger?.focus();
                }
            }
        });
        const flowSwitches = Array.from(document.querySelectorAll('[data-flow-switch]'));
        flowSwitches.forEach((switcher) => {
            const tablist = switcher.querySelector('.flow-switch');
            const tabs = tablist ? Array.from(tablist.querySelectorAll('[data-flow-tab]')) : [];
            const panels = Array.from(switcher.querySelectorAll('[data-flow-panel]'));
            if (!tablist || !tabs.length || !panels.length) {
                return;
            }
            const activate = (target, shouldFocus = false) => {
                if (!target) {
                    return;
                }
                const targetTab = tabs.find((tab) => (tab.dataset.flowTab || '') === target);
                const targetPanel = panels.find((panel) => (panel.dataset.flowPanel || '') === target);
                if (!targetTab || !targetPanel) {
                    return;
                }
                tabs.forEach((tab) => {
                    const isActive = tab === targetTab;
                    tab.classList.toggle('is-active', isActive);
                    tab.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    tab.tabIndex = isActive ? 0 : -1;
                    if (isActive && shouldFocus) {
                        tab.focus();
                    }
                });
                panels.forEach((panel) => {
                    const isActive = panel === targetPanel;
                    panel.classList.toggle('is-active', isActive);
                    panel.hidden = !isActive;
                });
                tablist.dataset.active = target;
            };
            tabs.forEach((tab) => {
                tab.addEventListener('click', () => {
                    activate(tab.dataset.flowTab || '');
                });
                tab.addEventListener('keydown', (event) => {
                    if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
                        event.preventDefault();
                        const direction = event.key === 'ArrowRight' ? 1 : -1;
                        const currentIndex = tabs.indexOf(tab);
                        const nextIndex = (currentIndex + tabs.length + direction) % tabs.length;
                        const nextTab = tabs[nextIndex];
                        if (nextTab) {
                            activate(nextTab.dataset.flowTab || '', true);
                        }
                    }
                });
            });
            const defaultTab = tabs.find((tab) => tab.classList.contains('is-active')) || tabs[0];
            if (defaultTab) {
                activate(defaultTab.dataset.flowTab || '');
            }
        });
        if (form && message) {
            form.addEventListener('submit', (event) => {
                event.preventDefault();
                message.textContent = '';
                message.className = 'form-message';
                const formData = new FormData(form);
                const encoded = new URLSearchParams(formData).toString();
                fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: encoded
                })
                    .then((response) => {
                        if (response.ok) {
                            form.reset();
                            message.textContent = 'Merci ! Nous vous enverrons une invitation sous 48 heures.';
                            message.className = 'form-message success';
                        } else {
                            throw new Error('Network error');
                        }
                    })
                    .catch(() => {
                        message.textContent = 'Une erreur est survenue. Réessayez ou contactez-nous.';
                        message.className = 'form-message error';
                    });
            });
        }
        feather.replace();
        const yearEl = document.querySelector('[data-year]');
        if (yearEl) {
            yearEl.textContent = new Date().getFullYear();
        }
    </script>
</body>
</html>
