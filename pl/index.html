<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Narra — automatyzacja treści AI dla e-commerce | getnarra.app</title>
    <meta name="description" content="Narra automatyzuje tworzenie treści dzięki multi-agentowej architekturze — od szkicu do SEO. Zachowaj głos marki. Wypróbuj 7-dniowy trial." />
    <meta name="robots" content="index, follow" />
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Narra — automatyzacja treści AI dla e-commerce" />
    <meta property="og:description" content="Narra automatyzuje tworzenie treści dzięki multi-agentowej architekturze — od szkicu do SEO. Zachowaj głos marki." />
    <meta property="og:image" content="https://getnarra.app/assets/og-image.svg" />
    <meta property="og:url" content="https://getnarra.app/pl/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Narra — automatyzacja treści AI dla e-commerce" />
    <meta name="twitter:description" content="Narra automatyzuje tworzenie treści dzięki multi-agentowej architekturze — od szkicu do SEO. Zachowaj głos marki." />
    <meta name="twitter:image" content="https://getnarra.app/assets/og-image.svg" />
    <link rel="alternate" hreflang="pl" href="/pl/" />
    <link rel="alternate" hreflang="en" href="/" />
    <link rel="alternate" hreflang="es" href="/es/" />
    <link rel="alternate" hreflang="fr" href="/fr/" />
    <link rel="alternate" hreflang="de" href="/de/" />
    <link rel="alternate" hreflang="x-default" href="/" />
    <link rel="stylesheet" href="../styles.css" />
    <style>
        :root {
            color-scheme: light;
            --navy: #0a2540;
            --purple: #6c5ce7;
            --offwhite: #f7f7fb;
            --ink: #1a2a3a;
            --muted: #6b7280;
            --radius-lg: 1rem;
            --shadow-md: 0 20px 45px rgba(10, 37, 64, 0.12);
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: var(--offwhite);
            color: var(--ink);
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        .shell {
            max-width: min(1120px, 92vw);
            margin: 0 auto;
        }
        header.site-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(247, 247, 251, 0.94);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(26, 42, 58, 0.08);
        }
        .hero {
            position: relative;
            padding: clamp(4rem, 10vw, 6.5rem) 0 clamp(3rem, 8vw, 5rem);
            overflow: hidden;
        }
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top left, rgba(108, 92, 231, 0.18), transparent 55%),
                radial-gradient(circle at bottom right, rgba(10, 37, 64, 0.12), transparent 60%);
            z-index: -2;
        }
        .hero::after {
            content: "\201C Where ideas turn into stories. \201D";
            position: absolute;
            font-size: clamp(2.75rem, 8vw, 5.5rem);
            font-weight: 700;
            color: rgba(108, 92, 231, 0.08);
            right: clamp(-6rem, -10vw, -2rem);
            bottom: clamp(-2rem, -6vw, 0rem);
            white-space: nowrap;
            pointer-events: none;
        }
        .hero h1 {
            font-size: clamp(2.75rem, 4vw, 4rem);
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            color: var(--navy);
        }
        .hero p.hero-tagline {
            font-weight: 600;
            color: var(--purple);
            margin-bottom: 1.5rem;
        }
        .hero p.hero-description {
            max-width: 52ch;
            line-height: 1.6;
            color: var(--muted);
            font-size: 1.05rem;
        }
        .primary-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.85rem 1.65rem;
            border-radius: 999px;
            background: var(--purple);
            color: #fff;
            font-weight: 600;
            border: none;
        }
        .primary-cta:hover {
            background: #5844d6;
        }
        .primary-cta:focus-visible,
        .secondary-cta:focus-visible,
        .ghost-link:focus-visible,
        .menu-toggle:focus-visible,
        .nav-link:focus-visible {
            outline: 3px solid rgba(108, 92, 231, 0.45);
            outline-offset: 3px;
            border-radius: 999px;
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Narra",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
        "url": "https://getnarra.app/pl/",
      "description": "Narra automatyzuje tworzenie treści dzięki multi-agentowej architekturze — od szkicu do SEO.",
      "offers": [
        {
          "@type": "Offer",
          "name": "Starter",
          "price": "59",
          "priceCurrency": "PLN",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Pro",
          "price": "169",
          "priceCurrency": "PLN",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Enterprise",
          "price": "0",
          "priceCurrency": "PLN",
          "availability": "https://schema.org/PreOrder",
          "description": "Oferta Enterprise szyta na miarę, dostępna na zapytanie."
        }
      ]
    }
    </script>
</head>
<body>
    <a class="skip-link" href="#main">Pomiń nawigację</a>
    <header class="site-header" aria-label="Główna nawigacja">
        <div class="shell nav-shell">
            <a class="brand" href="#hero" aria-label="Narra – strona główna">
                <img src="../assets/logo.svg" alt="Narra" width="120" height="32" decoding="async" />
            </a>
            <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="primary-navigation">
                <span class="menu-label">Menu</span>
                <span class="menu-icon" aria-hidden="true"></span>
            </button>
            <nav id="primary-navigation" class="site-nav" aria-label="Sekcje strony">
                <a class="nav-link" href="#features">Funkcje</a>
                <a class="nav-link" href="#workflow">Jak to działa</a>
                <a class="nav-link" href="#pricing">Cennik</a>
                <a class="nav-link" href="#faq">FAQ</a>
                <a class="nav-link nav-cta" href="#beta">Dołącz do bety</a>
                <div class="language-switch">
                    <div class="language-select" data-language-switch>
                        <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Wybierz język">
                            <span class="language-trigger-text" data-language-label>English (EN)</span>
                        </button>
                        <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main id="main">
        <section id="hero" class="hero">
            <div class="shell hero-grid">
                <div class="hero-copy">
                    <h1>Automatyzuj tworzenie treści. Zachowaj głos swojej marki.</h1>
                    <p class="hero-tagline">Where ideas turn into stories.</p>
                    <p class="hero-description">Narra to platforma AI, która zamienia pomysły w gotowe do publikacji teksty SEO. Multi-agentowy pipeline: szkic → fact-check → rewrite → SEO → publikacja.</p>
                    <div class="hero-actions">
                        <a class="primary-cta" href="#beta">Dołącz do bety</a>
                        <a class="ghost-link" href="#workflow">Zobacz jak to działa</a>
                    </div>
                </div>
                <div class="hero-panel" aria-hidden="true">
                    <div class="hero-card">
                        <div class="hero-card-header">
                            <span class="chip">Human + AI</span>
                            <span class="chip chip-outline">Realtime QA</span>
                        </div>
                        <div class="hero-card-body">
                            <p>„Narra utrzymuje głos marki nawet przy automatycznych publikacjach. Każdy artykuł przechodzi fact-check i korektę SEO zanim trafi online.”</p>
                            <ul>
                                <li>Szkic z briefu w 2 minuty</li>
                                <li>Autokorekty oparte na źródłach</li>
                                <li>Meta + linkowanie bez ręcznej pracy</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="problem" class="section problem">
            <div class="shell problem-inner">
                <div class="problem-copy">
                    <h2>Ręczne pisanie treści spowalnia Twój zespół.</h2>
                    <p>Większość zespołów spędza ponad 6 godzin tygodniowo na tworzeniu i poprawianiu wpisów. Wieloagentowa AI Narra skraca to do minut — zachowując ton marki i jakość SEO.</p>
                    <div class="problem-actions">
                        <a class="primary-cta" href="#beta">Zobacz jak to działa</a>
                    </div>
                </div>
                <div class="problem-flows" data-flow-switch>
                    <div class="flow-switch" role="tablist" aria-label="Porównanie procesu" data-active="manual">
                        <button
                            type="button"
                            class="flow-switch-button is-active"
                            role="tab"
                            id="problem-tab-manual"
                            aria-controls="problem-panel-manual"
                            aria-selected="true"
                            data-flow-tab="manual"
                        >
                            Manualnie
                        </button>
                        <button
                            type="button"
                            class="flow-switch-button"
                            role="tab"
                            id="problem-tab-narra"
                            aria-controls="problem-panel-narra"
                            aria-selected="false"
                            data-flow-tab="narra"
                        >
                            Narra
                        </button>
                        <span class="flow-switch-indicator" aria-hidden="true"></span>
                    </div>
                    <div class="flow-panels">
                        <article
                            id="problem-panel-manual"
                            class="problem-flow manual is-active"
                            role="tabpanel"
                            aria-labelledby="problem-tab-manual"
                            data-flow-panel="manual"
                        >
                            <h3>Pisanie ręczne</h3>
                            <p>Pisanie ręczne → Szkic → Review → Fact-check → SEO → Publikacja</p>
                            <span class="flow-duration">(dni)</span>
                        </article>
                        <article
                            id="problem-panel-narra"
                            class="problem-flow narra"
                            role="tabpanel"
                            aria-labelledby="problem-tab-narra"
                            data-flow-panel="narra"
                            hidden
                        >
                            <h3>Narra</h3>
                            <p>Narra → Konspekt → Review → Publikacja</p>
                            <span class="flow-duration">(minuty)</span>
                        </article>
                    </div>
                </div>
            </div>
        </section>
        <section id="features" class="section features">
            <div class="shell section-header">
                <h2>Co potrafi Narra</h2>
                <p>Multi-agentowy zespół AI współpracuje z Twoim zespołem contentowym, aby skrócić czas od pomysłu do publikacji.</p>
            </div>
            <div class="shell feature-grid">
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="share-2"></span>
                    </div>
                    <h3>Multi-agentowy pipeline</h3>
                    <p>Automatyczna sekwencja od briefu po publikację z kontrolą jakości na każdym etapie.</p>
                    <ul>
                        <li>Szkic → fact-check → rewrite</li>
                        <li>SEO scoring w czasie rzeczywistym</li>
                        <li>Eksport do CMS jednym kliknięciem</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="check-circle"></span>
                    </div>
                    <h3>Jakość i kontrola</h3>
                    <p>Kontrolowany, „human + AI” ton treści dzięki podglądom i sugestiom dla redaktorów.</p>
                    <ul>
                        <li>Tryb współtworzenia z komentarzami</li>
                        <li>Śledzenie rewizji i źródeł</li>
                        <li>Zgodność brand voice w każdym akapicie</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="trending-up"></span>
                    </div>
                    <h3>SEO enrichment</h3>
                    <p>Automatycznie generowane nagłówki, meta tagi oraz rekomendowane linki wewnętrzne.</p>
                    <ul>
                        <li>Brief SEO → struktura H1–H3</li>
                        <li>Meta title &amp; description w języku marki</li>
                        <li>Mapa linkowania wewnętrznego</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="link"></span>
                    </div>
                    <h3>Integracje (wkrótce)</h3>
                    <p>Planowane połączenia z najważniejszymi platformami e-commerce.</p>
                    <ul>
                        <li>Shoper, WooCommerce, Shopify</li>
                        <li>WordPress i własne API</li>
                        <li>Automatyczne publikacje i webhooks</li>
                    </ul>
                </article>
            </div>
        </section>
        <section id="comparison" class="section comparison">
            <div class="shell section-header">
                <h2>Oszczędzaj godziny każdego tygodnia z Narrą</h2>
                <p>Porównaj tradycyjny proces z automatycznym pipeline’em Narra.</p>
            </div>
            <div class="shell comparison-card">
                <div class="comparison-table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th scope="col">Cecha</th>
                                <th scope="col">Tradycyjny proces</th>
                                <th scope="col">Pipeline Narra AI</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Czas na artykuł</th>
                                <td>~6 godzin</td>
                                <td>10–15 minut</td>
                            </tr>
                            <tr>
                                <th scope="row">Fact-checking</th>
                                <td>Manualny</td>
                                <td>Automatyczny ze źródłami</td>
                            </tr>
                            <tr>
                                <th scope="row">Optymalizacja SEO</th>
                                <td>Opcjonalna</td>
                                <td>Wbudowana</td>
                            </tr>
                            <tr>
                                <th scope="row">Spójność</th>
                                <td>Zależna od copywritera</td>
                                <td>Zawsze w tonie marki</td>
                            </tr>
                            <tr>
                                <th scope="row">Publikacja</th>
                                <td>Ręczne dodawanie</td>
                                <td>Eksport do CMS jednym kliknięciem</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="comparison-note">Zespoły korzystające z Narra publikują 5× więcej artykułów miesięcznie bez zatrudniania dodatkowych copywriterów.</p>
                <a class="primary-cta" href="#beta">Dołącz do bety</a>
            </div>
        </section>
        <section id="workflow" class="section workflow">
            <div class="shell section-header">
                <h2>Jak działa Narra</h2>
                <p>Transparentny pipeline pozwala śledzić każdy etap od briefu po gotowy artykuł.</p>
            </div>
            <div class="shell workflow-grid" role="list">
                <article class="workflow-step" role="listitem">
                    <div class="step-number">1</div>
                    <h3>Brief → szkic</h3>
                    <p>Podaj temat, słowa kluczowe i ton marki. Agent „Composer” w minutę buduje szkic artykułu.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">2</div>
                    <h3>Fact-check → korekta</h3>
                    <p>Agent „Researcher” weryfikuje fakty, dodaje źródła i notuje miejsca wymagające zatwierdzenia.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">3</div>
                    <h3>SEO → struktura</h3>
                    <p>„Optimizer” generuje nagłówki H1–H3, meta tagi oraz propozycje linków wewnętrznych.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">4</div>
                    <h3>Publikacja / eksport</h3>
                    <p>„Publisher” publikuje treść do CMS lub eksportuje do Markdown/HTML wraz z metadanymi.</p>
                </article>
            </div>
        </section>
        <section id="pricing" class="section pricing">
            <div class="shell section-header">
                <h2>Elastyczne plany dla zespołów contentowych</h2>
                <p>Wystartuj z trialem i rozwiń współpracę, gdy Twoje treści zaczynają skalować sprzedaż.</p>
            </div>
            <div class="shell pricing-grid">
                <article class="pricing-card" aria-labelledby="plan-starter">
                    <h3 id="plan-starter">Starter</h3>
                    <p class="price"><span>59</span> PLN / mies.</p>
                    <p>Skonfiguruj jedną markę i generuj do czterech artykułów miesięcznie.</p>
                    <ul>
                        <li>Jedna marka w workspace</li>
                        <li>4 artykuły miesięcznie</li>
                        <li>Wieloagentowy pipeline od szkicu do SEO</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Zarezerwuj dostęp</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-pro">
                    <h3 id="plan-pro">Pro</h3>
                    <p class="price"><span>169</span> PLN / mies.</p>
                    <p>Skaluj treści dla maksymalnie pięciu marek z regularną publikacją.</p>
                    <ul>
                        <li>Do 5 marek w workspace</li>
                        <li>10 artykułów na markę w miesiącu</li>
                        <li>Współpraca i integracje z CMS</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Dołącz do bety</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-enterprise">
                    <h3 id="plan-enterprise">Enterprise</h3>
                    <p class="price price-custom">Indywidualna wycena</p>
                    <p>Dla zespołów, dla których Pro to za mało. Dedykowana oferta skrojona pod Twoje potrzeby.</p>
                    <ul>
                        <li>Dedykowany opiekun sukcesu</li>
                        <li>Indywidualne procesy, automatyzacje i integracje</li>
                        <li>Własne limity treści i uzgodnione SLA</li>
                    </ul>
                    <a class="secondary-cta" href="mailto:hello@getnarra.app">Skontaktuj się z nami</a>
                </article>
            </div>
        </section>
        <section id="faq" class="section faq">
            <div class="shell section-header">
                <h2>Najczęstsze pytania</h2>
                <p>Masz inne pytania? Napisz na <a href="mailto:hello@getnarra.app">hello@getnarra.app</a>.</p>
            </div>
            <div class="shell faq-grid">
                <details>
                    <summary>Jak długo trwa wdrożenie Narra?</summary>
                    <p>Pierwszy szkic możesz wygenerować tego samego dnia. Onboarding obejmuje warsztat brand voice i konfigurację słowników.</p>
                </details>
                <details>
                    <summary>Czy mogę edytować treść przed publikacją?</summary>
                    <p>Tak, każdy etap posiada tryb współedycji z komentarzami. Ostatnie słowo zawsze należy do Ciebie.</p>
                </details>
                <details>
                    <summary>Jak działa fact-check?</summary>
                    <p>Agent Researcher oznacza akapity wymagające potwierdzenia i linkuje źródła, które możesz szybko zweryfikować.</p>
                </details>
                <details>
                    <summary>Czy Narra wspiera wiele języków?</summary>
                    <p>Tak, platforma obsługuje polski, angielski, hiszpański, francuski i niemiecki z zachowaniem spójnego tonu marki.</p>
                </details>
            </div>
        </section>
        <section id="beta" class="section beta-form">
            <div class="shell form-wrapper">
                <div class="form-copy">
                    <h2>Ready to publish faster? Join the private beta</h2>
                    <p>Leave your email and we’ll reach out with an invite and a 7-day trial after verifying your brand profile. No credit card required. Setup in under 5 minutes.</p>
                </div>
                <form class="beta" name="beta" method="post" data-netlify="true" data-netlify-honeypot="bot-field">
                    <input type="hidden" name="form-name" value="beta" />
                    <p class="hidden">
                        <label>Nie wypełniaj tego pola: <input name="bot-field" /></label>
                    </p>
                    <div class="form-row">
                        <label for="email">E-mail roboczy</label>
                        <input id="email" name="email" type="email" placeholder="jan@twojsklep.pl" required autocomplete="email" />
                    </div>
                    <div class="form-row form-row-inline">
                        <input id="consent" name="consent" type="checkbox" required />
                        <label for="consent">Wyrażam zgodę na kontakt w sprawie programu beta Narra.</label>
                    </div>
                    <button class="primary-cta" type="submit">Dołącz do bety</button>
                    <p class="form-message" role="status" aria-live="polite"></p>
                </form>
            </div>
        </section>
    </main>
    <footer class="site-footer">
        <div class="shell footer-grid">
            <div class="footer-brand">
                <img src="../assets/logo.svg" alt="Narra" width="120" height="32" loading="lazy" decoding="async" />
                <p>Platforma AI, która zamienia pomysły w historie sprzedażowe.</p>
            </div>
            <nav class="footer-nav" aria-label="Nawigacja w stopce">
                <a href="#features">Funkcje</a>
                <a href="#workflow">Jak to działa</a>
                <a href="#pricing">Cennik</a>
                <a href="#faq">FAQ</a>
                <a href="#beta">Dołącz do bety</a>
                <div class="language-switch">
                    <div class="language-select" data-language-switch>
                        <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Wybierz język">
                            <span class="language-trigger-text" data-language-label>English (EN)</span>
                        </button>
                        <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="footer-meta">
                <p>© <span id="year"></span> Narra. Wszelkie prawa zastrzeżone.</p>
                <a href="mailto:hello@getnarra.app">hello@getnarra.app</a>
            </div>
        </div>
    </footer>
    <script src="https://unpkg.com/feather-icons@4.29.0/dist/feather.min.js"></script>
    <script>
    (function () {
        if (window.feather) {
            window.feather.replace();
        }
        const nav = document.getElementById('primary-navigation');
        const toggle = document.querySelector('.menu-toggle');
        const message = document.querySelector('.form-message');
        const form = document.querySelector('form.beta');
        const year = document.getElementById('year');
        if (year) {
            year.textContent = new Date().getFullYear();
        }
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const toggleVisible = () => toggle && window.getComputedStyle(toggle).display !== 'none';
        const focusToggleIfVisible = () => {
            if (toggleVisible()) {
                toggle.focus();
            }
        };
        if (toggle && nav) {
            toggle.addEventListener('click', () => {
                const expanded = toggle.getAttribute('aria-expanded') === 'true';
                toggle.setAttribute('aria-expanded', !expanded);
                nav.classList.toggle('is-open');
                if (!prefersReducedMotion) {
                    nav.classList.toggle('with-animate');
                }
                if (!expanded && toggleVisible()) {
                    nav.querySelectorAll('a')[0]?.focus();
                }
            });
            nav.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') {
                    toggle.setAttribute('aria-expanded', 'false');
                    nav.classList.remove('is-open');
                    nav.classList.remove('with-animate');
                    focusToggleIfVisible();
                }
            });
            nav.querySelectorAll('a').forEach((link) => {
                link.addEventListener('click', () => {
                    toggle.setAttribute('aria-expanded', 'false');
                    nav.classList.remove('is-open');
                    nav.classList.remove('with-animate');
                    focusToggleIfVisible();
                });
            });
        }
        const normalizeLang = (lang) => (lang || '').toLowerCase().split('-')[0];
        const preferredLang = normalizeLang(document.documentElement.lang) || 'en';
        const languageSwitchers = Array.from(document.querySelectorAll('[data-language-switch]'));
        const closeSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.remove('is-open');
            trigger.setAttribute('aria-expanded', 'false');
            menu.hidden = true;
            menu.querySelectorAll('[data-language-option]').forEach((option) => {
                option.tabIndex = -1;
            });
        };
        const openSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.add('is-open');
            trigger.setAttribute('aria-expanded', 'true');
            menu.hidden = false;
        };
        const focusOption = (option) => {
            option.tabIndex = 0;
            option.focus();
        };
        languageSwitchers.forEach((switcher, index) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const label = switcher.querySelector('[data-language-label]');
            const menu = switcher.querySelector('[data-language-menu]');
            const options = menu ? Array.from(menu.querySelectorAll('[data-language-option]')) : [];
            if (!trigger || !menu || !options.length) {
                return;
            }
            const fallbackLang = 'en';
            const triggerId = trigger.id || `language-trigger-${index}`;
            trigger.id = triggerId;
            menu.setAttribute('aria-labelledby', triggerId);
            const setActiveOption = (option) => {
                options.forEach((item) => {
                    const isActive = item === option;
                    item.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    item.tabIndex = isActive ? 0 : -1;
                });
                const optionLabel = option.textContent.trim();
                if (label) {
                    label.textContent = optionLabel;
                } else {
                    trigger.textContent = optionLabel;
                }
                trigger.setAttribute('data-selected-lang', option.dataset.lang || '');
            };
            const findOptionFor = (langCode) => options.find((option) => normalizeLang(option.dataset.lang) === langCode);
            const initialOption = findOptionFor(preferredLang) || findOptionFor(fallbackLang) || options[0];
            if (initialOption) {
                setActiveOption(initialOption);
            }
            trigger.addEventListener('click', (event) => {
                event.preventDefault();
                const expanded = trigger.getAttribute('aria-expanded') === 'true';
                if (expanded) {
                    closeSwitcher(switcher);
                } else {
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    if (activeOption) {
                        focusOption(activeOption);
                    }
                }
            });
            trigger.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                    event.preventDefault();
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    const focusTarget = event.key === 'ArrowUp' ? (activeOption || options[options.length - 1]) : (activeOption || options[0]);
                    if (focusTarget) {
                        focusOption(focusTarget);
                    }
                } else if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    trigger.click();
                } else if (event.key === 'Escape') {
                    closeSwitcher(switcher);
                }
            });
            options.forEach((option, optionIndex) => {
                option.tabIndex = option.getAttribute('aria-selected') === 'true' ? 0 : -1;
                option.addEventListener('click', () => {
                    setActiveOption(option);
                    closeSwitcher(switcher);
                    const destination = option.dataset.href;
                    if (destination) {
                        window.location.href = destination;
                    }
                });
                option.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        option.click();
                    } else if (event.key === 'Escape') {
                        event.preventDefault();
                        closeSwitcher(switcher);
                        trigger.focus();
                    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                        event.preventDefault();
                        const offset = event.key === 'ArrowDown' ? 1 : -1;
                        let nextIndex = optionIndex + offset;
                        if (nextIndex < 0) {
                            nextIndex = options.length - 1;
                        } else if (nextIndex >= options.length) {
                            nextIndex = 0;
                        }
                        const nextOption = options[nextIndex];
                        if (nextOption) {
                            setActiveOption(nextOption);
                            focusOption(nextOption);
                        }
                    } else if (event.key === 'Tab') {
                        closeSwitcher(switcher);
                    }
                });
            });
        });
        document.addEventListener('click', (event) => {
            if (!event.target.closest('[data-language-switch]')) {
                languageSwitchers.forEach((switcher) => closeSwitcher(switcher));
            }
        });
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                const activeSwitcher = languageSwitchers.find((switcher) => switcher.classList.contains('is-open'));
                if (activeSwitcher) {
                    const trigger = activeSwitcher.querySelector('[data-language-trigger]');
                    closeSwitcher(activeSwitcher);
                    trigger?.focus();
                }
            }
        });
        const flowSwitches = Array.from(document.querySelectorAll('[data-flow-switch]'));
        flowSwitches.forEach((switcher) => {
            const tablist = switcher.querySelector('.flow-switch');
            const tabs = tablist ? Array.from(tablist.querySelectorAll('[data-flow-tab]')) : [];
            const panels = Array.from(switcher.querySelectorAll('[data-flow-panel]'));
            if (!tablist || !tabs.length || !panels.length) {
                return;
            }
            const activate = (target, shouldFocus = false) => {
                if (!target) {
                    return;
                }
                const targetTab = tabs.find((tab) => (tab.dataset.flowTab || '') === target);
                const targetPanel = panels.find((panel) => (panel.dataset.flowPanel || '') === target);
                if (!targetTab || !targetPanel) {
                    return;
                }
                tabs.forEach((tab) => {
                    const isActive = tab === targetTab;
                    tab.classList.toggle('is-active', isActive);
                    tab.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    tab.tabIndex = isActive ? 0 : -1;
                    if (isActive && shouldFocus) {
                        tab.focus();
                    }
                });
                panels.forEach((panel) => {
                    const isActive = panel === targetPanel;
                    panel.classList.toggle('is-active', isActive);
                    panel.hidden = !isActive;
                });
                tablist.dataset.active = target;
            };
            tabs.forEach((tab) => {
                tab.addEventListener('click', () => {
                    activate(tab.dataset.flowTab || '');
                });
                tab.addEventListener('keydown', (event) => {
                    if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
                        event.preventDefault();
                        const direction = event.key === 'ArrowRight' ? 1 : -1;
                        const currentIndex = tabs.indexOf(tab);
                        const nextIndex = (currentIndex + tabs.length + direction) % tabs.length;
                        const nextTab = tabs[nextIndex];
                        if (nextTab) {
                            activate(nextTab.dataset.flowTab || '', true);
                        }
                    }
                });
            });
            const defaultTab = tabs.find((tab) => tab.classList.contains('is-active')) || tabs[0];
            if (defaultTab) {
                activate(defaultTab.dataset.flowTab || '');
            }
        });
        if (form && message) {
            form.addEventListener('submit', (event) => {
                event.preventDefault();
                message.textContent = '';
                message.className = 'form-message';
                const formData = new FormData(form);
                const encoded = new URLSearchParams(formData).toString();
                fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: encoded
                }).then((response) => {
                    if (response.ok) {
                        form.reset();
                        message.textContent = 'Dziękujemy! Wrócimy z zaproszeniem w ciągu 48h.';
                        message.className = 'form-message success';
                    } else {
                        throw new Error('Błąd sieci');
                    }
                }).catch(() => {
                    message.textContent = 'Coś poszło nie tak. Spróbuj ponownie lub napisz do nas.';
                    message.className = 'form-message error';
                });
            });
        }
    })();
    </script>
</body>
</html>
