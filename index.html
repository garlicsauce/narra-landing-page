<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Narra — AI content automation for e-commerce | getnarra.app</title>
    <meta name="description" content="Narra automates content creation with a multi-agent pipeline — from outline to SEO polish. Keep your brand voice. Try the 7-day trial." />
    <meta name="robots" content="index, follow" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Narra — AI content automation for e-commerce" />
    <meta property="og:description" content="Narra automates content creation with a multi-agent pipeline — from outline to SEO polish. Keep your brand voice." />
    <meta property="og:image" content="https://getnarra.app/assets/og-image.svg" />
    <meta property="og:url" content="https://getnarra.app/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Narra — AI content automation for e-commerce" />
    <meta name="twitter:description" content="Narra automates content creation with a multi-agent pipeline — from outline to SEO polish. Keep your brand voice." />
    <meta name="twitter:image" content="https://getnarra.app/assets/og-image.svg" />
    <link rel="alternate" hreflang="pl" href="/pl/" />
    <link rel="alternate" hreflang="en" href="/" />
    <link rel="alternate" hreflang="es" href="/es/" />
    <link rel="alternate" hreflang="fr" href="/fr/" />
    <link rel="alternate" hreflang="de" href="/de/" />
    <link rel="alternate" hreflang="x-default" href="/" />
    <link rel="stylesheet" href="styles.css" />
    <style>
        :root {
            color-scheme: light;
            --navy: #0a2540;
            --purple: #6c5ce7;
            --offwhite: #f7f7fb;
            --ink: #1a2a3a;
            --muted: #6b7280;
            --radius-lg: 1rem;
            --shadow-md: 0 20px 45px rgba(10, 37, 64, 0.12);
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: var(--offwhite);
            color: var(--ink);
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        .shell {
            max-width: min(1120px, 92vw);
            margin: 0 auto;
        }
        header.site-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(247, 247, 251, 0.94);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(26, 42, 58, 0.08);
        }
        .hero {
            position: relative;
            padding: clamp(4rem, 10vw, 6.5rem) 0 clamp(3rem, 8vw, 5rem);
            overflow: hidden;
        }
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top left, rgba(108, 92, 231, 0.18), transparent 55%),
                radial-gradient(circle at bottom right, rgba(10, 37, 64, 0.12), transparent 60%);
            z-index: -2;
        }
        .hero::after {
            content: "\201C Where ideas turn into stories. \201D";
            position: absolute;
            font-size: clamp(2.75rem, 8vw, 5.5rem);
            font-weight: 700;
            color: rgba(108, 92, 231, 0.08);
            right: clamp(-6rem, -10vw, -2rem);
            bottom: clamp(-2rem, -6vw, 0rem);
            white-space: nowrap;
            pointer-events: none;
        }
        .hero h1 {
            font-size: clamp(2.75rem, 4vw, 4rem);
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            color: var(--navy);
        }
        .hero p.hero-tagline {
            font-weight: 600;
            color: var(--purple);
            margin-bottom: 1.5rem;
        }
        .hero p.hero-description {
            max-width: 52ch;
            line-height: 1.6;
            color: var(--muted);
            font-size: 1.05rem;
        }
        .primary-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.85rem 1.65rem;
            border-radius: 999px;
            background: var(--purple);
            color: #fff;
            font-weight: 600;
            border: none;
        }
        .primary-cta:hover {
            background: #5844d6;
        }
        .primary-cta:focus-visible,
        .secondary-cta:focus-visible,
        .ghost-link:focus-visible,
        .menu-toggle:focus-visible,
        .nav-link:focus-visible {
            outline: 3px solid rgba(108, 92, 231, 0.45);
            outline-offset: 3px;
            border-radius: 999px;
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Narra",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
        "url": "https://getnarra.app/",
      "description": "Narra automates content creation with a multi-agent pipeline — from outline to SEO polish.",
      "offers": [
        {
          "@type": "Offer",
          "name": "Starter",
          "price": "12",
          "priceCurrency": "GBP",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Pro",
          "price": "35",
          "priceCurrency": "GBP",
          "availability": "https://schema.org/PreOrder"
        },
        {
          "@type": "Offer",
          "name": "Enterprise",
          "price": "0",
          "priceCurrency": "EUR",
          "availability": "https://schema.org/PreOrder",
          "description": "Custom enterprise pricing tailored to your needs."
        }
      ]
    }
    </script>
</head>
<body>
    <a class="skip-link" href="#main">Skip to main content</a>
    <header class="site-header" aria-label="Primary navigation">
        <div class="shell nav-shell">
            <a class="brand" href="#hero" aria-label="Narra – home">
                <img src="assets/logo.svg" alt="Narra" width="120" height="32" decoding="async" />
            </a>
            <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="primary-navigation">
                <span class="menu-label">Menu</span>
                <span class="menu-icon" aria-hidden="true"></span>
            </button>
            <nav id="primary-navigation" class="site-nav" aria-label="Page sections">
                <a class="nav-link" href="#features">Features</a>
                <a class="nav-link" href="#workflow">How it works</a>
                <a class="nav-link" href="#pricing">Pricing</a>
                <a class="nav-link" href="#faq">FAQ</a>
                <a class="nav-link nav-cta" href="#beta">Join the beta</a>
                <div class="language-switch">
                    <div class="language-select" data-language-switch>
                        <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Choose language">
                            <span class="language-trigger-text" data-language-label>English (EN)</span>
                        </button>
                        <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main id="main">
        <section id="hero" class="hero">
            <div class="shell hero-grid">
                <div class="hero-copy">
                    <h1>Automate content production. Keep your brand voice.</h1>
                    <p class="hero-tagline">Where ideas turn into stories.</p>
                    <p class="hero-description">Narra is an AI platform that turns ideas into publish-ready SEO copy. Multi-agent pipeline: outline → fact-check → rewrite → SEO → publish.</p>
                    <div class="hero-actions">
                        <a class="primary-cta" href="#beta">Join the beta</a>
                        <a class="ghost-link" href="#workflow">See how it works</a>
                    </div>
                </div>
                <div class="hero-panel" aria-hidden="true">
                    <div class="hero-card">
                        <div class="hero-card-header">
                            <span class="chip">Human + AI</span>
                            <span class="chip chip-outline">Realtime QA</span>
                        </div>
                        <div class="hero-card-body">
                            <p>“Narra keeps brand tone intact even when publishing automatically. Every article goes through fact-check and SEO review before it goes live.”</p>
                            <ul>
                                <li>From brief to outline in 2 minutes</li>
                                <li>Auto corrections with cited sources</li>
                                <li>Meta + internal links without manual work</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="problem" class="section problem">
            <div class="shell problem-inner">
                <div class="problem-copy">
                    <h2>Writing content manually is slowing you down.</h2>
                    <p>Most teams spend 6+ hours a week creating and fixing blog posts. Narra’s multi-agent AI turns that into minutes — while keeping your brand tone and SEO quality.</p>
                    <div class="problem-actions">
                        <a class="primary-cta" href="#beta">See how it works</a>
                    </div>
                </div>
                <div class="problem-flows" aria-label="Workflow comparison">
                    <article class="problem-flow manual">
                        <h3>Manual writing</h3>
                        <p>Manual writing → Draft → Review → Fact-check → SEO → Publish</p>
                        <span class="flow-duration">(days)</span>
                    </article>
                    <article class="problem-flow narra">
                        <h3>Narra</h3>
                        <p>Narra → Outline → Review → Publish</p>
                        <span class="flow-duration">(minutes)</span>
                    </article>
                </div>
            </div>
        </section>
        <section id="features" class="section features">
            <div class="shell section-header">
                <h2>What Narra can do</h2>
                <p>A multi-agent AI team collaborates with your content team to shrink time from idea to publication.</p>
            </div>
            <div class="shell feature-grid">
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="share-2"></span>
                    </div>
                    <h3>Multi-agent pipeline</h3>
                    <p>Automated sequence from brief to publishing with quality gates at every step.</p>
                    <ul>
                        <li>Outline → fact-check → rewrite</li>
                        <li>Real-time SEO scoring</li>
                        <li>One-click export to your CMS</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="check-circle"></span>
                    </div>
                    <h3>Quality and control</h3>
                    <p>“Human + AI” tone management with previews and suggestions for editors.</p>
                    <ul>
                        <li>Co-create mode with comments</li>
                        <li>Revision and source tracking</li>
                        <li>Brand voice consistency in every paragraph</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="trending-up"></span>
                    </div>
                    <h3>SEO enrichment</h3>
                    <p>Auto-generated headings, meta tags, and recommended internal links.</p>
                    <ul>
                        <li>SEO brief → H1–H3 structure</li>
                        <li>Meta title &amp; description in your brand tone</li>
                        <li>Internal linking map</li>
                    </ul>
                </article>
                <article class="feature-card">
                    <div class="icon" aria-hidden="true">
                        <span data-feather="link"></span>
                    </div>
                    <h3>Integrations (coming soon)</h3>
                    <p>Planned connections with leading e-commerce platforms.</p>
                    <ul>
                        <li>Shoper, WooCommerce, Shopify</li>
                        <li>WordPress and custom API</li>
                        <li>Automated publishing and webhooks</li>
                    </ul>
                </article>
            </div>
        </section>
        <section id="comparison" class="section comparison">
            <div class="shell section-header">
                <h2>Save hours every week with Narra</h2>
                <p>Compare the manual workflow with Narra’s automated pipeline.</p>
            </div>
            <div class="shell comparison-card">
                <div class="comparison-table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th scope="col">Feature</th>
                                <th scope="col">Manual Workflow</th>
                                <th scope="col">Narra AI Pipeline</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Time per article</th>
                                <td>~6 hours</td>
                                <td>10–15 minutes</td>
                            </tr>
                            <tr>
                                <th scope="row">Fact-checking</th>
                                <td>Manual</td>
                                <td>Automatic with sources</td>
                            </tr>
                            <tr>
                                <th scope="row">SEO optimization</th>
                                <td>Optional</td>
                                <td>Built-in</td>
                            </tr>
                            <tr>
                                <th scope="row">Consistency</th>
                                <td>Depends on writer</td>
                                <td>Always on-brand</td>
                            </tr>
                            <tr>
                                <th scope="row">Publishing</th>
                                <td>Manual upload</td>
                                <td>1-click CMS export</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="comparison-note">Teams using Narra publish 5x more articles per month without hiring extra writers.</p>
                <a class="primary-cta" href="#beta">Join the beta</a>
            </div>
        </section>
        <section id="workflow" class="section workflow">
            <div class="shell section-header">
                <h2>How Narra works</h2>
                <p>Transparent pipeline lets you track every stage from brief to ready-to-publish article.</p>
            </div>
            <div class="shell workflow-grid" role="list">
                <article class="workflow-step" role="listitem">
                    <div class="step-number">1</div>
                    <h3>Brief → outline</h3>
                    <p>Provide the topic, keywords, and tone. The “Composer” agent builds an outline in minutes.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">2</div>
                    <h3>Fact-check → edit</h3>
                    <p>The “Researcher” agent verifies facts, attaches sources, and flags items that need approval.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">3</div>
                    <h3>SEO → structure</h3>
                    <p>“Optimizer” generates H1–H3 headings, meta tags, and suggestions for internal links.</p>
                </article>
                <article class="workflow-step" role="listitem">
                    <div class="step-number">4</div>
                    <h3>Publish / export</h3>
                    <p>“Publisher” sends content to your CMS or exports Markdown/HTML with metadata.</p>
                </article>
            </div>
        </section>
        <section id="pricing" class="section pricing">
            <div class="shell section-header">
                <h2>Flexible plans for content teams</h2>
                <p>Start with a trial and scale collaboration as your content starts driving revenue.</p>
            </div>
            <div class="shell pricing-grid">
                <article class="pricing-card" aria-labelledby="plan-starter">
                    <h3 id="plan-starter">Starter</h3>
                    <p class="price"><span>12</span> GBP / mo.</p>
                    <p>Configure one brand and publish up to four articles every month.</p>
                    <ul>
                        <li>Single brand workspace</li>
                        <li>4 long-form articles monthly</li>
                        <li>Multi-agent workflow from outline to SEO</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Request access</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-pro">
                    <h3 id="plan-pro">Pro</h3>
                    <p class="price"><span>35</span> GBP / mo.</p>
                    <p>Scale across multiple brands with capacity for regular publishing.</p>
                    <ul>
                        <li>Up to 5 brand workspaces</li>
                        <li>10 articles per brand each month</li>
                        <li>Collaborative edits and CMS integrations</li>
                    </ul>
                    <a class="secondary-cta" href="#beta">Join the beta</a>
                </article>
                <article class="pricing-card" aria-labelledby="plan-enterprise">
                    <h3 id="plan-enterprise">Enterprise</h3>
                    <p class="price price-custom">Custom pricing</p>
                    <p>For teams that outgrow Pro. A dedicated offer tailored to your needs.</p>
                    <ul>
                        <li>Dedicated success partner</li>
                        <li>Tailored workflows, automations, and integrations</li>
                        <li>Custom content volumes and service SLAs</li>
                    </ul>
                    <a class="secondary-cta" href="mailto:hello@getnarra.app">Talk to us</a>
                </article>
            </div>
        </section>
        <section id="faq" class="section faq">
            <div class="shell section-header">
                <h2>Frequently asked questions</h2>
                <p>Have more questions? Email <a href="mailto:hello@getnarra.app">hello@getnarra.app</a>.</p>
            </div>
            <div class="shell faq-grid">
                <details>
                    <summary>How long does it take to launch Narra?</summary>
                    <p>You can generate your first outline the same day. Onboarding includes a brand voice workshop and glossary setup.</p>
                </details>
                <details>
                    <summary>Can I edit content before publishing?</summary>
                    <p>Yes, every stage supports collaborative editing with comments. You always have the final sign-off.</p>
                </details>
                <details>
                    <summary>How does fact-checking work?</summary>
                    <p>The Researcher agent flags paragraphs that need confirmation and links sources for quick review.</p>
                </details>
                <details>
                    <summary>Does Narra support multiple languages?</summary>
                    <p>Yes, the platform supports Polish, English, Spanish, French, and German while keeping your brand tone consistent.</p>
                </details>
            </div>
        </section>
        <section class="section final-cta">
            <div class="shell final-cta-card">
                <h2>Ready to publish faster?</h2>
                <p>Join the private beta and get a 7-day trial to see how Narra can change your workflow.</p>
                <p>No credit card required. Setup in under 5 minutes.</p>
                <a class="primary-cta" href="#beta">Join the beta</a>
            </div>
        </section>
        <section id="beta" class="section beta-form">
            <div class="shell form-wrapper">
                <div class="form-copy">
                    <h2>Join the private beta</h2>
                    <p>Leave your email and we’ll reach out with an invite and a 7-day trial after verifying your brand profile.</p>
                </div>
                <form class="beta" name="beta-en" method="post" data-netlify="true" data-netlify-honeypot="bot-field">
                    <input type="hidden" name="form-name" value="beta-en" />
                    <p class="hidden">
                        <label>Do not fill this out: <input name="bot-field" /></label>
                    </p>
                    <div class="form-row">
                        <label for="email">Work email</label>
                        <input id="email" name="email" type="email" placeholder="alex@yourstore.com" required autocomplete="email" />
                    </div>
                    <div class="form-row form-row-inline">
                        <input id="consent" name="consent" type="checkbox" required />
                        <label for="consent">I agree to be contacted about the Narra beta program.</label>
                    </div>
                    <button class="primary-cta" type="submit">Join the beta</button>
                    <p class="form-message" role="status" aria-live="polite"></p>
                </form>
            </div>
        </section>
    </main>
    <footer class="site-footer">
        <div class="shell footer-grid">
            <div class="footer-brand">
                <img src="assets/logo.svg" alt="Narra" width="120" height="32" loading="lazy" decoding="async" />
                <p>AI platform that turns ideas into revenue-generating stories.</p>
            </div>
            <nav class="footer-nav" aria-label="Footer navigation">
                <a href="#features">Features</a>
                <a href="#workflow">How it works</a>
                <a href="#pricing">Pricing</a>
                <a href="#faq">FAQ</a>
                <a href="#beta">Join the beta</a>
                <div class="language-switch">
                    <div class="language-select" data-language-switch>
                        <button class="language-trigger" type="button" data-language-trigger aria-haspopup="listbox" aria-expanded="false" aria-label="Choose language">
                            <span class="language-trigger-text" data-language-label>English (EN)</span>
                        </button>
                        <ul class="language-options" data-language-menu role="listbox" hidden>
                            <li><button type="button" role="option" data-language-option data-lang="en" data-href="/">English (EN)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="pl" data-href="/pl/">Polski (PL)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="es" data-href="/es/">Español (ES)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="fr" data-href="/fr/">Français (FR)</button></li>
                            <li><button type="button" role="option" data-language-option data-lang="de" data-href="/de/">Deutsch (DE)</button></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="footer-meta">
                <p>© <span id="year"></span> Narra. All rights reserved.</p>
                <a href="mailto:hello@getnarra.app">hello@getnarra.app</a>
            </div>
        </div>
    </footer>
    <script src="https://unpkg.com/feather-icons@4.29.0/dist/feather.min.js"></script>
    <script>
    (function () {
        if (window.feather) {
            window.feather.replace();
        }
        const nav = document.getElementById('primary-navigation');
        const toggle = document.querySelector('.menu-toggle');
        const message = document.querySelector('.form-message');
        const form = document.querySelector('form.beta');
        const year = document.getElementById('year');
        if (year) {
            year.textContent = new Date().getFullYear();
        }
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const toggleVisible = () => toggle && window.getComputedStyle(toggle).display !== 'none';
        const focusToggleIfVisible = () => {
            if (toggleVisible()) {
                toggle.focus();
            }
        };
        if (toggle && nav) {
            toggle.addEventListener('click', () => {
                const expanded = toggle.getAttribute('aria-expanded') === 'true';
                toggle.setAttribute('aria-expanded', !expanded);
                nav.classList.toggle('is-open');
                if (!prefersReducedMotion) {
                    nav.classList.toggle('with-animate');
                }
                if (!expanded && toggleVisible()) {
                    nav.querySelectorAll('a')[0]?.focus();
                }
            });
            nav.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') {
                    toggle.setAttribute('aria-expanded', 'false');
                    nav.classList.remove('is-open');
                    nav.classList.remove('with-animate');
                    focusToggleIfVisible();
                }
            });
            nav.querySelectorAll('a').forEach((link) => {
                link.addEventListener('click', () => {
                    toggle.setAttribute('aria-expanded', 'false');
                    nav.classList.remove('is-open');
                    nav.classList.remove('with-animate');
                    focusToggleIfVisible();
                });
            });
        }
        const normalizeLang = (lang) => (lang || '').toLowerCase().split('-')[0];
        const preferredLang = normalizeLang(document.documentElement.lang) || 'en';
        const languageSwitchers = Array.from(document.querySelectorAll('[data-language-switch]'));
        const closeSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.remove('is-open');
            trigger.setAttribute('aria-expanded', 'false');
            menu.hidden = true;
            menu.querySelectorAll('[data-language-option]').forEach((option) => {
                option.tabIndex = -1;
            });
        };
        const openSwitcher = (switcher) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const menu = switcher.querySelector('[data-language-menu]');
            if (!trigger || !menu) {
                return;
            }
            switcher.classList.add('is-open');
            trigger.setAttribute('aria-expanded', 'true');
            menu.hidden = false;
        };
        const focusOption = (option) => {
            option.tabIndex = 0;
            option.focus();
        };
        languageSwitchers.forEach((switcher, index) => {
            const trigger = switcher.querySelector('[data-language-trigger]');
            const label = switcher.querySelector('[data-language-label]');
            const menu = switcher.querySelector('[data-language-menu]');
            const options = menu ? Array.from(menu.querySelectorAll('[data-language-option]')) : [];
            if (!trigger || !menu || !options.length) {
                return;
            }
            const fallbackLang = 'en';
            const triggerId = trigger.id || `language-trigger-${index}`;
            trigger.id = triggerId;
            menu.setAttribute('aria-labelledby', triggerId);
            const setActiveOption = (option) => {
                options.forEach((item) => {
                    const isActive = item === option;
                    item.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    item.tabIndex = isActive ? 0 : -1;
                });
                const optionLabel = option.textContent.trim();
                if (label) {
                    label.textContent = optionLabel;
                } else {
                    trigger.textContent = optionLabel;
                }
                trigger.setAttribute('data-selected-lang', option.dataset.lang || '');
            };
            const findOptionFor = (langCode) => options.find((option) => normalizeLang(option.dataset.lang) === langCode);
            const initialOption = findOptionFor(preferredLang) || findOptionFor(fallbackLang) || options[0];
            if (initialOption) {
                setActiveOption(initialOption);
            }
            trigger.addEventListener('click', (event) => {
                event.preventDefault();
                const expanded = trigger.getAttribute('aria-expanded') === 'true';
                if (expanded) {
                    closeSwitcher(switcher);
                } else {
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    if (activeOption) {
                        focusOption(activeOption);
                    }
                }
            });
            trigger.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                    event.preventDefault();
                    languageSwitchers.forEach((other) => {
                        if (other !== switcher) {
                            closeSwitcher(other);
                        }
                    });
                    openSwitcher(switcher);
                    const activeOption = options.find((option) => option.getAttribute('aria-selected') === 'true') || options[0];
                    const focusTarget = event.key === 'ArrowUp' ? (activeOption || options[options.length - 1]) : (activeOption || options[0]);
                    if (focusTarget) {
                        focusOption(focusTarget);
                    }
                } else if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    trigger.click();
                } else if (event.key === 'Escape') {
                    closeSwitcher(switcher);
                }
            });
            options.forEach((option, optionIndex) => {
                option.tabIndex = option.getAttribute('aria-selected') === 'true' ? 0 : -1;
                option.addEventListener('click', () => {
                    setActiveOption(option);
                    closeSwitcher(switcher);
                    const destination = option.dataset.href;
                    if (destination) {
                        window.location.href = destination;
                    }
                });
                option.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        option.click();
                    } else if (event.key === 'Escape') {
                        event.preventDefault();
                        closeSwitcher(switcher);
                        trigger.focus();
                    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {
                        event.preventDefault();
                        const offset = event.key === 'ArrowDown' ? 1 : -1;
                        let nextIndex = optionIndex + offset;
                        if (nextIndex < 0) {
                            nextIndex = options.length - 1;
                        } else if (nextIndex >= options.length) {
                            nextIndex = 0;
                        }
                        const nextOption = options[nextIndex];
                        if (nextOption) {
                            setActiveOption(nextOption);
                            focusOption(nextOption);
                        }
                    } else if (event.key === 'Tab') {
                        closeSwitcher(switcher);
                    }
                });
            });
        });
        document.addEventListener('click', (event) => {
            if (!event.target.closest('[data-language-switch]')) {
                languageSwitchers.forEach((switcher) => closeSwitcher(switcher));
            }
        });
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                const activeSwitcher = languageSwitchers.find((switcher) => switcher.classList.contains('is-open'));
                if (activeSwitcher) {
                    const trigger = activeSwitcher.querySelector('[data-language-trigger]');
                    closeSwitcher(activeSwitcher);
                    trigger?.focus();
                }
            }
        });
        if (form && message) {
            form.addEventListener('submit', (event) => {
                event.preventDefault();
                message.textContent = '';
                message.className = 'form-message';
                const formData = new FormData(form);
                const encoded = new URLSearchParams(formData).toString();
                fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: encoded
                }).then((response) => {
                    if (response.ok) {
                        form.reset();
                        message.textContent = 'Thank you! We\'ll send your invite within 48 hours.';
                        message.className = 'form-message success';
                    } else {
                        throw new Error('Network error');
                    }
                }).catch(() => {
                    message.textContent = 'Something went wrong. Please try again or reach out to us.';
                    message.className = 'form-message error';
                });
            });
        }
    })();
    </script>
</body>
</html>
